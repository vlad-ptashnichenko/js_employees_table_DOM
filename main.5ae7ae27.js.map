{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","headTableRow","tbody","body","countClick","enterKeyCode","initialText","selectedCell","form","createElement","inputForm","inputName","optionName","labelText","label","select","option","button","i","length","textContent","append","cloneNode","value","name","dataset","qa","type","children","saveChanges","input","newText","trim","correctText","correctInput","parentNode","removeChild","inputValue","columnCell","columnIndex","cellIndex","includes","charAt","notification","toUpperCase","slice","valueHasLetters","toCashString","sortList","list","index","order","sort","a","b","textA","textB","localeCompare","numA","toNum","numB","item","result","itemsArr","intermediateStr","push","reverse","join","word","title","description","block","caption","message","className","setTimeout","remove","classList","add","addEventListener","e","preventDefault","data","FormData","inputValues","Object","fromEntries","entries","newTr","td","position","salary","age","toString","reset","querySelectorAll","indexOf","target","parentElement","cell","focus","innerEvent","keyCode"],"mappings":"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","file":"main.5ae7ae27.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst headTableRow = thead.querySelector('tr');\nconst tbody = document.querySelector('tbody');\nconst body = document.querySelector('body');\n\nlet countClick = 0;\nconst enterKeyCode = 13;\nlet initialText = null;\nlet selectedCell = null;\n\nconst form = document.createElement('form');\nconst inputForm = document.createElement('input');\nconst inputName = ['name', 'position', 'office', 'age', 'salary'];\nconst optionName = [`Tokyo`, `Singapore`, `London`, `New\nYork`, `Edinburgh`, `San Francisco`];\nconst labelText = ['Name:', 'Position:', 'Office:', 'Age:', 'Salary:'];\nconst label = document.createElement('label');\nconst select = document.createElement('select');\nconst option = document.createElement('option');\nconst button = document.createElement('button');\n\nfor (let i = 0; i < labelText.length; i++) {\n  label.textContent = labelText[i];\n  form.append(label.cloneNode(true));\n}\n\nfor (let i = 0; i < optionName.length; i++) {\n  option.value = optionName[i];\n  option.textContent = optionName[i];\n  select.append(option.cloneNode(true));\n}\n\nfor (let i = 0; i < inputName.length; i++) {\n  inputForm.name = inputName[i];\n  inputForm.dataset.qa = inputName[i];\n\n  if (i > 2) {\n    inputForm.type = 'number';\n  }\n\n  if (i === 2) {\n    select.name = inputName[i];\n    select.dataset.qa = inputName[i];\n    form.children[i].append(select.cloneNode(true));\n  } else {\n    form.children[i].append(inputForm.cloneNode());\n  }\n}\n\nbutton.textContent = 'Save to table';\nform.append(button);\n\nform.classList.add('new-employee-form');\nbody.append(form);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const inputValues = Object.fromEntries(data.entries());\n  const newTr = document.createElement('tr');\n  const td = document.createElement('td');\n\n  if (!inputValues.position || !inputValues.salary) {\n    notification(\n      'Error',\n      'All fields must be filled',\n      'error'\n    );\n  } else if (inputValues.age > 90 || inputValues.age < 18) {\n    notification(\n      'Error',\n      'The age value should be between 18 and 90 years',\n      'error'\n    );\n  } else if (inputValues.name.length < 4) {\n    notification(\n      'Error',\n      'The name must contain more than 4 letters',\n      'error'\n    );\n  } else {\n    for (const inputValue in inputValues) {\n      switch (inputValue) {\n        case 'name':\n        case 'position':\n          td.textContent = inputValues[inputValue].charAt(0).toUpperCase()\n          + inputValues[inputValue].slice(1, inputValues[inputValue].length);\n          newTr.append(td.cloneNode(true));\n          break;\n\n        case 'salary':\n          td.textContent = toCashString(inputValues[inputValue].toString());\n          newTr.append(td.cloneNode(true));\n          break;\n\n        default:\n          td.textContent = inputValues[inputValue];\n          newTr.append(td.cloneNode(true));\n      }\n    }\n\n    tbody.append(newTr.cloneNode(true));\n    form.reset();\n\n    notification(\n      'Perfectly',\n      'A new employee is successfully added to the table',\n      'success'\n    );\n  }\n});\n\nheadTableRow.addEventListener('click', (e) => {\n  const tr = [...tbody.querySelectorAll('tr')];\n  const targetIndex = [...headTableRow.children].indexOf(e.target);\n\n  sortList(tr, targetIndex, countClick % 2);\n  countClick++;\n});\n\ntbody.addEventListener('click', (e) => {\n  for (const item of tbody.children) {\n    item.classList.remove('active');\n  }\n\n  e.target.parentElement.classList.add('active');\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  const cell = e.target;\n  const input = document.createElement('input');\n\n  initialText = cell.textContent;\n  selectedCell = cell;\n  cell.textContent = '';\n\n  input.classList.add('cell-input');\n  cell.append(input);\n  input.focus();\n\n  input.addEventListener('blur', function() {\n    saveChanges(input);\n  });\n\n  input.addEventListener('keypress', function(innerEvent) {\n    if (innerEvent.keyCode === enterKeyCode) {\n      saveChanges(input);\n    }\n  });\n});\n\nfunction saveChanges(input) {\n  const newText = input.value;\n\n  if (newText.trim() !== '') {\n    const correctText = correctInput(newText, selectedCell);\n\n    input.parentNode.removeChild(input);\n    selectedCell.textContent = correctText;\n  } else {\n    selectedCell.textContent = initialText;\n    input.parentNode.removeChild(input);\n  }\n\n  selectedCell = null;\n  initialText = null;\n}\n\nfunction correctInput(inputValue, columnCell) {\n  const columnIndex = columnCell.cellIndex;\n\n  if (columnIndex < 3) {\n    if (('0123456789').includes(inputValue.charAt(0))) {\n      notification(\n        'Error',\n        'A word cannot start with numbers',\n        'error'\n      );\n\n      return initialText;\n    }\n\n    return inputValue.charAt(0).toUpperCase()\n      + inputValue.slice(1, inputValue.length);\n  }\n\n  if (columnIndex === 3) {\n    if (valueHasLetters(inputValue)) {\n      return initialText;\n    } else if (inputValue > 90 || inputValue < 18) {\n      notification(\n        'Error',\n        'The age value should be between 18 and 90 years',\n        'error'\n      );\n\n      return initialText;\n    }\n\n    return inputValue;\n  }\n\n  if (columnIndex === 4) {\n    if (valueHasLetters(inputValue)) {\n      return initialText;\n    }\n\n    return toCashString(inputValue);\n  }\n}\n\nfunction sortList(list, index, order) {\n  switch (index) {\n    case 0:\n    case 1:\n    case 2:\n      list.sort((a, b) => {\n        const textA = a.children[index].textContent;\n        const textB = b.children[index].textContent;\n\n        return order === 0\n          ? textA.localeCompare(textB)\n          : textB.localeCompare(textA);\n      });\n      break;\n\n    case 3:\n    case 4:\n      list.sort((a, b) => {\n        const numA = toNum(a.children[index].textContent);\n        const numB = toNum(b.children[index].textContent);\n\n        return order === 0\n          ? numA - numB\n          : numB - numA;\n      });\n      break;\n  }\n\n  tbody.append(...list);\n}\n\nfunction toNum(item) {\n  let result = '';\n\n  for (const i of item) {\n    if (('0123456789').includes(i)) {\n      result += i;\n    }\n  }\n\n  return +result;\n}\n\nfunction toCashString(item) {\n  const itemsArr = [];\n  let intermediateStr = item;\n\n  if (item.charAt(0) === '0') {\n    notification(\n      'Error',\n      'A number cannot start with zero',\n      'error'\n    );\n\n    return initialText;\n  }\n\n  if (intermediateStr.length <= 3) {\n    return `$${intermediateStr}`;\n  } else {\n    while (intermediateStr.length > 3) {\n      itemsArr.push(intermediateStr.slice(-3));\n      intermediateStr = intermediateStr.slice(0, intermediateStr.length - 3);\n    }\n\n    itemsArr.push(intermediateStr);\n\n    return `$${itemsArr.reverse().join(',')}`;\n  }\n}\n\nfunction valueHasLetters(word) {\n  for (let i = 0; i < word.length; i++) {\n    if (!('0123456789').includes(word[i])) {\n      notification(\n        'Error',\n        'The value must be a number',\n        'error'\n      );\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction notification(title, description, type) {\n  const block = document.createElement('div');\n  const caption = document.createElement('h2');\n  const message = document.createElement('p');\n\n  block.className = `notification ${type}`;\n  block.dataset.qa = 'notification';\n  caption.textContent = title;\n  message.textContent = description;\n  block.append(caption, message);\n  tbody.append(block);\n\n  setTimeout(() => block.remove(), 3000);\n}\n"]}